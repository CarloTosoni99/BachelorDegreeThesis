{"ast":null,"code":"import { createSolidDataset, getSolidDataset, saveSolidDatasetAt } from \"@inrupt/solid-client\";\nexport async function getOrCreateDataset(containerUri, fetch, publicTypeIndexUri) {\n  const notelistUri = containerUri + \"articlelist.ttl\";\n  const publicTypeIndex = await getSolidDataset(publicTypeIndexUri);\n  console.log(\"Questo sempre stampato\");\n\n  if (publicTypeIndex === null) {\n    console.log(\"indice pubblico non caricato errore\");\n  }\n\n  try {\n    const notelistDataset = await getSolidDataset(notelistUri, {\n      fetch: fetch\n    });\n    return notelistDataset;\n  } catch (e) {\n    if (e.statusCode === 404) {\n      const notelistDataset = await saveSolidDatasetAt(notelistUri, createSolidDataset(), {\n        fetch: fetch\n      });\n      return notelistDataset;\n    }\n  }\n\n  return;\n}","map":{"version":3,"sources":["/home/carlo/Desktop/Project/my-solid-blog/src/utils/GetOrCreateDataset.js"],"names":["createSolidDataset","getSolidDataset","saveSolidDatasetAt","getOrCreateDataset","containerUri","fetch","publicTypeIndexUri","notelistUri","publicTypeIndex","console","log","notelistDataset","e","statusCode"],"mappings":"AAAA,SACEA,kBADF,EAEEC,eAFF,EAGEC,kBAHF,QAIO,sBAJP;AAMA,OAAO,eAAeC,kBAAf,CAAkCC,YAAlC,EAAgDC,KAAhD,EAAuDC,kBAAvD,EAA2E;AAEhF,QAAMC,WAAW,GAAGH,YAAY,GAAG,iBAAnC;AAEA,QAAMI,eAAe,GAAG,MAAMP,eAAe,CAACK,kBAAD,CAA7C;AAEAG,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;;AACA,MAAKF,eAAe,KAAK,IAAzB,EAAgC;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;AACD;;AAGD,MAAI;AACF,UAAMC,eAAe,GAAG,MAAMV,eAAe,CAC3CM,WAD2C,EAE3C;AACAF,MAAAA,KAAK,EAAEA;AADP,KAF2C,CAA7C;AAMA,WAAOM,eAAP;AACD,GARD,CAQE,OAAMC,CAAN,EAAS;AACT,QAAGA,CAAC,CAACC,UAAF,KAAiB,GAApB,EAAyB;AACvB,YAAMF,eAAe,GAAG,MAAMT,kBAAkB,CAC9CK,WAD8C,EAE9CP,kBAAkB,EAF4B,EAG9C;AACAK,QAAAA,KAAK,EAAEA;AADP,OAH8C,CAAhD;AAOA,aAAOM,eAAP;AACD;AACF;;AACD;AACD","sourcesContent":["import {\n  createSolidDataset,\n  getSolidDataset,\n  saveSolidDatasetAt,\n} from \"@inrupt/solid-client\";\n\nexport async function getOrCreateDataset(containerUri, fetch, publicTypeIndexUri) {\n\n  const notelistUri = containerUri + \"articlelist.ttl\";\n\n  const publicTypeIndex = await getSolidDataset(publicTypeIndexUri);\n\n  console.log(\"Questo sempre stampato\");\n  if ( publicTypeIndex === null ) {\n    console.log(\"indice pubblico non caricato errore\");\n  }\n\n  \n  try {\n    const notelistDataset = await getSolidDataset(\n      notelistUri,\n      {\n      fetch: fetch,\n      },\n    );\n    return notelistDataset;\n  } catch(e) {\n    if(e.statusCode === 404) {\n      const notelistDataset = await saveSolidDatasetAt(\n        notelistUri,\n        createSolidDataset(),\n        {\n        fetch: fetch,\n        },\n      );\n      return notelistDataset\n    }\n  }\n  return;\n}\n"]},"metadata":{},"sourceType":"module"}