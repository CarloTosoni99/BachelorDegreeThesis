{"ast":null,"code":"import { createSolidDataset, getSolidDataset, saveSolidDatasetAt } from \"@inrupt/solid-client\";\nexport async function getOrCreateDataset(containerUri, fetch) {\n  const notelistUri = containerUri + \"articlelist.ttl\";\n  const publicIndexUrl = getUrl(profile, solid.publicTypeIndex);\n  const publicIndex = await getSolidDataset(publicIndexUrl);\n\n  try {\n    const notelistDataset = await getSolidDataset(notelistUri, {\n      fetch: fetch\n    });\n    return notelistDataset;\n  } catch (e) {\n    if (e.statusCode === 404) {\n      const notelistDataset = await saveSolidDatasetAt(notelistUri, createSolidDataset(), {\n        fetch: fetch\n      });\n      return notelistDataset;\n    }\n  }\n\n  return;\n}","map":{"version":3,"sources":["/home/carlo/Desktop/Project/my-solid-blog/src/utils/GetOrCreateDataset.js"],"names":["createSolidDataset","getSolidDataset","saveSolidDatasetAt","getOrCreateDataset","containerUri","fetch","notelistUri","publicIndexUrl","getUrl","profile","solid","publicTypeIndex","publicIndex","notelistDataset","e","statusCode"],"mappings":"AAAA,SACEA,kBADF,EAEEC,eAFF,EAGEC,kBAHF,QAIO,sBAJP;AAMA,OAAO,eAAeC,kBAAf,CAAkCC,YAAlC,EAAgDC,KAAhD,EAAuD;AAE5D,QAAMC,WAAW,GAAGF,YAAY,GAAG,iBAAnC;AAEA,QAAMG,cAAc,GAAGC,MAAM,CAAEC,OAAF,EAAWC,KAAK,CAACC,eAAjB,CAA7B;AACA,QAAMC,WAAW,GAAG,MAAMX,eAAe,CAAEM,cAAF,CAAzC;;AAEA,MAAI;AACF,UAAMM,eAAe,GAAG,MAAMZ,eAAe,CAC3CK,WAD2C,EAE3C;AACAD,MAAAA,KAAK,EAAEA;AADP,KAF2C,CAA7C;AAMA,WAAOQ,eAAP;AACD,GARD,CAQE,OAAMC,CAAN,EAAS;AACT,QAAGA,CAAC,CAACC,UAAF,KAAiB,GAApB,EAAyB;AACvB,YAAMF,eAAe,GAAG,MAAMX,kBAAkB,CAC9CI,WAD8C,EAE9CN,kBAAkB,EAF4B,EAG9C;AACAK,QAAAA,KAAK,EAAEA;AADP,OAH8C,CAAhD;AAOA,aAAOQ,eAAP;AACD;AACF;;AACD;AACD","sourcesContent":["import {\n  createSolidDataset,\n  getSolidDataset,\n  saveSolidDatasetAt,\n} from \"@inrupt/solid-client\";\n\nexport async function getOrCreateDataset(containerUri, fetch) {\n\n  const notelistUri = containerUri + \"articlelist.ttl\";\n\n  const publicIndexUrl = getUrl( profile, solid.publicTypeIndex );\n  const publicIndex = await getSolidDataset( publicIndexUrl );\n  \n  try {\n    const notelistDataset = await getSolidDataset(\n      notelistUri,\n      {\n      fetch: fetch,\n      },\n    );\n    return notelistDataset;\n  } catch(e) {\n    if(e.statusCode === 404) {\n      const notelistDataset = await saveSolidDatasetAt(\n        notelistUri,\n        createSolidDataset(),\n        {\n        fetch: fetch,\n        },\n      );\n      return notelistDataset\n    }\n  }\n  return;\n}\n"]},"metadata":{},"sourceType":"module"}