[{"/home/carlo/Desktop/Project/my-solid-blog/src/index.js":"1","/home/carlo/Desktop/Project/my-solid-blog/src/App.js":"2","/home/carlo/Desktop/Project/my-solid-blog/src/reportWebVitals.js":"3","/home/carlo/Desktop/Project/my-solid-blog/src/components/EntryArea.js":"4","/home/carlo/Desktop/Project/my-solid-blog/src/components/MainPage.js":"5","/home/carlo/Desktop/Project/my-solid-blog/src/utils/fontawesome.js":"6","/home/carlo/Desktop/Project/my-solid-blog/src/components/ArticlesList.js":"7","/home/carlo/Desktop/Project/my-solid-blog/src/components/ChoiceMenu.js":"8","/home/carlo/Desktop/Project/my-solid-blog/src/components/Header.js":"9","/home/carlo/Desktop/Project/my-solid-blog/src/components/WriteArticles.js":"10","/home/carlo/Desktop/Project/my-solid-blog/src/utils/GetOrCreateDataset.js":"11","/home/carlo/Desktop/Project/my-solid-blog/src/components/Article.js":"12","/home/carlo/Desktop/Thesis/my-solid-blog/src/index.js":"13","/home/carlo/Desktop/Thesis/my-solid-blog/src/reportWebVitals.js":"14","/home/carlo/Desktop/Thesis/my-solid-blog/src/App.js":"15","/home/carlo/Desktop/Thesis/my-solid-blog/src/components/EntryArea.js":"16","/home/carlo/Desktop/Thesis/my-solid-blog/src/utils/fontawesome.js":"17","/home/carlo/Desktop/Thesis/my-solid-blog/src/components/MainPage.js":"18","/home/carlo/Desktop/Thesis/my-solid-blog/src/components/ChoiceMenu.js":"19","/home/carlo/Desktop/Thesis/my-solid-blog/src/components/Header.js":"20","/home/carlo/Desktop/Thesis/my-solid-blog/src/components/ArticlesList.js":"21","/home/carlo/Desktop/Thesis/my-solid-blog/src/components/Article.js":"22","/home/carlo/Desktop/Thesis/my-solid-blog/src/components/WriteArticles.js":"23","/home/carlo/Desktop/Thesis/my-solid-blog/src/utils/GetOrCreateDataset.js":"24"},{"size":632,"mtime":1627056221512,"results":"25","hashOfConfig":"26"},{"size":679,"mtime":1629356789891,"results":"27","hashOfConfig":"26"},{"size":362,"mtime":1627056221512,"results":"28","hashOfConfig":"26"},{"size":3516,"mtime":1629356789891,"results":"29","hashOfConfig":"26"},{"size":403,"mtime":1629356789891,"results":"30","hashOfConfig":"26"},{"size":179,"mtime":1627056221512,"results":"31","hashOfConfig":"26"},{"size":6361,"mtime":1629356789891,"results":"32","hashOfConfig":"26"},{"size":1015,"mtime":1629925538357,"results":"33","hashOfConfig":"26"},{"size":2161,"mtime":1630014831868,"results":"34","hashOfConfig":"26"},{"size":1937,"mtime":1627056221512,"results":"35","hashOfConfig":"26"},{"size":2354,"mtime":1633102437656,"results":"36","hashOfConfig":"26"},{"size":7372,"mtime":1630089960775,"results":"37","hashOfConfig":"26"},{"size":632,"mtime":1627056221512,"results":"38","hashOfConfig":"39"},{"size":362,"mtime":1627056221512,"results":"40","hashOfConfig":"39"},{"size":679,"mtime":1629356789891,"results":"41","hashOfConfig":"39"},{"size":3516,"mtime":1629356789891,"results":"42","hashOfConfig":"39"},{"size":179,"mtime":1627056221512,"results":"43","hashOfConfig":"39"},{"size":403,"mtime":1629356789891,"results":"44","hashOfConfig":"39"},{"size":1015,"mtime":1629925538357,"results":"45","hashOfConfig":"39"},{"size":2161,"mtime":1630014831868,"results":"46","hashOfConfig":"39"},{"size":6361,"mtime":1629356789891,"results":"47","hashOfConfig":"39"},{"size":7372,"mtime":1630089960775,"results":"48","hashOfConfig":"39"},{"size":1937,"mtime":1627056221512,"results":"49","hashOfConfig":"39"},{"size":2354,"mtime":1633102437656,"results":"50","hashOfConfig":"39"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},"1ljeuw9",{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"53"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"l2luax",{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/carlo/Desktop/Project/my-solid-blog/src/index.js",[],["101","102"],"/home/carlo/Desktop/Project/my-solid-blog/src/App.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/reportWebVitals.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/components/EntryArea.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/components/MainPage.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/utils/fontawesome.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/components/ArticlesList.js",["103"],"import { \n  saveSolidDatasetAt,\n  getSolidDataset,\n  getSourceUrl,\n  getUrl,\n  removeThing,\n  getThing,\n  getThingAll,\n  setThing,\n  createThing,\n  addDatetime,\n  addDecimal,\n  addStringNoLocale,\n  setStringNoLocale,\n  getDatetime,\n  getDecimal,\n} from \"@inrupt/solid-client\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport React, { useEffect, useState } from \"react\";\nimport { getOrCreateDataset } from \"../utils/GetOrCreateDataset.js\";\nimport WriteArticles from './WriteArticles.js';\nimport Article from './Article.js';\nimport { schema, rdf, solid } from 'rdf-namespaces';\n\n\nfunction Articlelist(props) {\n  const { session } = useSession();\n  const [articlelist, setArticlelist] = useState();\n\n  const webId = session.info.webId ? session.info.webId : props.webId;\n  const identifier = Math.random();\n\n\n  useEffect(() => {\n    \n    const fetchDataset = async () => {\n      try {\n        const myDataset = await getSolidDataset(\n          webId,\n          {\n          fetch: session.fetch,\n          },\n        );\n        const profile = getThing(\n          myDataset,\n          webId,\n        );\n\n        const publicTypeIndexUrl = getUrl( profile, solid.publicTypeIndex );\n\n        const podUrl = getUrl(\n          profile,\n          \"http://www.w3.org/ns/pim/space#storage\",\n        );\n        const containerUrl = podUrl + \"public/my-solid-blog/articlelist.ttl\";\n        const list = await getOrCreateDataset(\n          containerUrl,\n          session.fetch,\n          publicTypeIndexUrl,\n        );\n        setArticlelist(list);\n\n      }\n      catch(e) {\n        console.log(\"an error occurr\");\n        console.log(e);\n      }\n    };\n    \n    fetchDataset();\n    \n  }, [session], webId);\n  \n\n  const addArticle = async (articleTitle, articleText) => {\n    const articlelistUrl = getSourceUrl(articlelist);\n\n    const thingWithType = addStringNoLocale(\n      createThing(),\n      rdf.type,\n      schema.TextDigitalDocument,\n    );\n\n    const thingWithIdentifier = addDecimal(\n      thingWithType,\n      schema.identifier,\n      identifier,\n    );\n    const thingWithTitle = addStringNoLocale(\n      thingWithIdentifier,\n      schema.headline,\n      articleTitle,\n    );\n    const thingWithDate = addDatetime(\n      thingWithTitle,\n      schema.dateCreated,\n      new Date(),\n    );\n    const thingWithText = addStringNoLocale(\n      thingWithDate,\n      schema.text,\n      articleText,\n    );\n\n    const updatedArticlelist = setThing(\n      articlelist,\n      thingWithText,\n    );\n    \n    const savedUpdatedArticlelist = await saveSolidDatasetAt(\n      articlelistUrl,\n      updatedArticlelist,\n      {fetch: session.fetch},\n    );\n    setArticlelist(savedUpdatedArticlelist);\n  };\n  \n  const removeArticle = async (thing) => {\n    const articlelistUrl = getSourceUrl(articlelist);\n    const updatedArticlelist = removeThing(\n      articlelist,\n      thing,\n    );\n    const savedUpdatedArticlelist = await saveSolidDatasetAt(\n      articlelistUrl,\n      updatedArticlelist,\n      {fetch: session.fetch},\n    );\n    setArticlelist(savedUpdatedArticlelist);\n  }\n  \n  const changeArticle = async (thing, text, headline) => {\n    const articlelistUrl = getSourceUrl(articlelist);\n    const articleText = setStringNoLocale(\n      thing,\n      schema.text,\n      text,\n    );\n    const articleHeadline = setStringNoLocale(\n      articleText,\n      schema.headline,\n      headline,\n    );\n\n    const updatedArticlelist = setThing(\n      articlelist,\n      articleHeadline,\n    );\n    const savedUpdatedArticlelist = await saveSolidDatasetAt(\n      articlelistUrl,\n      updatedArticlelist,\n      {fetch: session.fetch},\n    );\n    setArticlelist(savedUpdatedArticlelist);\n  };\n  \n  const articlesArray = articlelist ? getThingAll(articlelist) : [];  \n  const myArticles = articlesArray.sort(byDate).map((currentValue) => {\n    const identifier = getDecimal(\n      currentValue,\n      schema.identifier,\n    );\n    \n    return(\n      <li key={identifier} className=\"columns\">\n        <Article\n          thing={currentValue}\n          remove={async (thing) => await removeArticle(thing)}\n          change={async (thing, text, headline) => await changeArticle(thing, text, headline)}\n          webId={props.webId}\n        />\n      </li>\n    );\n  });\n  \n  return(\n    <>\n      <br/>\n      <div className=\"columns\">\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <div className=\"column is-half\">\n        <ul>{myArticles}</ul>\n        </div>\n        <div className=\"column is-one-quarter\">\n          <div className=\"card\">\n            <div className=\"card-content\">\n              <div className=\"notification is-warning is-light\">\n                This application was created in order to demonstrate how a decentralized blog could work.\n              </div>\n              <div className=\"content\">\n                All the data here displayed is saved in a remote Solid server, according to Solid technology.\n              </div>\n              <div className=\"content\">\n                This technology, created by Sir Tim Berners-Lee, allows the users to control their data.\n              </div>\n              <div className=\"content\">\n                If you want to have more information about this technology you can visit <a href=\"https://solidproject.org/\">https://solidproject.org/</a>.\n              </div>\n              <br/>\n              <br/>\n              <div className=\"content\">\n                This application was developed for the thesis of Carlo Tosoni (a.a. 2020/2021), bachelor degree in computer engineering.\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br/>\n      <br/>\n      { session.info.isLoggedIn ? (\n        <WriteArticles\n          newArticle={(title, text) => addArticle(title, text)}\n        />\n      ) : (\n        <>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Articlelist;\n\n\nfunction byDate(a, b) {\n  const aUpdateDate = getDatetime(a, schema.dateModified);\n  const bUpdateDate = getDatetime(b, schema.dateModified);\n    \n  const aCreatedDate = getDatetime(a, schema.dateCreated);\n  const bCreatedDate = getDatetime(b, schema.dateCreated);\n  \n  const aDate = aUpdateDate ?? aCreatedDate;\n  const bDate = bUpdateDate ?? bCreatedDate;\n  \n  if (bDate === null) {\n    return -1;\n  }\n  \n  if (aDate === null) {\n    return 1;\n  }\n  \n  return bDate.getTime() - aDate.getTime();\n}","/home/carlo/Desktop/Project/my-solid-blog/src/components/ChoiceMenu.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/components/Header.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/components/WriteArticles.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/utils/GetOrCreateDataset.js",[],"/home/carlo/Desktop/Project/my-solid-blog/src/components/Article.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/index.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/reportWebVitals.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/App.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/components/EntryArea.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/utils/fontawesome.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/components/MainPage.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/components/ChoiceMenu.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/components/Header.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/components/ArticlesList.js",["104"],"/home/carlo/Desktop/Thesis/my-solid-blog/src/components/Article.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/components/WriteArticles.js",[],"/home/carlo/Desktop/Thesis/my-solid-blog/src/utils/GetOrCreateDataset.js",[],{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","replacedBy":"108"},{"ruleId":"109","severity":1,"message":"110","line":72,"column":6,"nodeType":"111","endLine":72,"endColumn":15,"suggestions":"112"},{"ruleId":"109","severity":1,"message":"110","line":72,"column":6,"nodeType":"111","endLine":72,"endColumn":15,"suggestions":"113"},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'webId'. Either include it or remove the dependency array.","ArrayExpression",["116"],["117"],"no-global-assign","no-unsafe-negation",{"desc":"118","fix":"119"},{"desc":"118","fix":"120"},"Update the dependencies array to be: [session, webId]",{"range":"121","text":"122"},{"range":"123","text":"122"},[1688,1697],"[session, webId]",[1688,1697]]